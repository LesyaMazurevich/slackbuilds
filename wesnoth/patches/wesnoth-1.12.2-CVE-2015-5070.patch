--- src/filesystem.cpp~	2015-06-26 07:45:00.000000000 -0500
+++ src/filesystem.cpp	2015-06-26 07:47:48.549443634 -0500
@@ -1025,7 +1025,7 @@
 		return result;
 	}
 
-	if (ends_with(filename, ".pbl")) {
++	if (looks_like_pbl(filename)) { 
 		ERR_FS << "Illegal path '" << filename << "' (.pbl files are not allowed)." << std::endl;
 		return result;
 	}
--- src/filesystem_boost.cpp~	2015-06-26 07:46:38.000000000 -0500
+++ src/filesystem_boost.cpp	2015-06-26 07:48:35.090442596 -0500
@@ -976,7 +976,7 @@
 		return false;
 	}
 
-	if (ends_with(filename, ".pbl")) {
+	if (looks_like_pbl(filename)) { 
 		ERR_FS << "Illegal path '" << filename << "' (.pbl files are not allowed)." << std::endl;
 		return false;
 	}
