From 92d3cb4804bad73f8ebabf9be8f6f2a2c0daa471 Mon Sep 17 00:00:00 2001
From: Andrea Iacovitti <aiacovitti@libero.it>
Date: Thu, 5 Mar 2015 15:05:11 +0100
Subject: [PATCH 3/4] Fix BIC introduced in 4.14.6

REVIEW: 122812
---
 khtml/dom/dom_string.cpp |  7 +++++++
 khtml/dom/dom_string.h   | 15 ++++++++++++++-
 2 files changed, 21 insertions(+), 1 deletion(-)

diff --git a/khtml/dom/dom_string.cpp b/khtml/dom/dom_string.cpp
index a3c4abd..4da676b 100644
--- a/khtml/dom/dom_string.cpp
+++ b/khtml/dom/dom_string.cpp
@@ -336,6 +336,13 @@ DOMString DOMString::parsedUrl() const
     return out;
 }
 
+#ifndef KDE_NO_DEPRECATED
+DOMString DOMString::trimSpaces() const
+{
+    return parsedUrl();
+}
+#endif
+
 // ------------------------------------------------------------------------
 
 bool DOM::strcasecmp( const DOMString &as, const DOMString &bs )
diff --git a/khtml/dom/dom_string.h b/khtml/dom/dom_string.h
index 087f697..b269213 100644
--- a/khtml/dom/dom_string.h
+++ b/khtml/dom/dom_string.h
@@ -124,10 +124,23 @@ public:
     bool endsWith(const DOMString& str) const;
     bool startsWith(const DOMString& str) const;
 
-    // http://www.w3.org/TR/html/infrastructure.html#urls
+    /**
+     * Return a parsed url.
+     * Used to parse SRC url attribute,
+     * see http://www.w3.org/TR/html/infrastructure.html#urls
+     *
+     * @since 4.14.6
+     */
     DOMString parsedUrl() const;
 
     /**
+     * @deprecated, use parsedUrl()
+     */
+#ifndef KDE_NO_DEPRECATED
+    KDE_DEPRECATED DOMString trimSpaces() const;
+#endif
+
+    /**
      * @internal get a handle to the imlementation of the DOMString
      * Use at own risk!!!
      */
-- 
2.3.1

